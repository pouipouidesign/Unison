Unison=function(){"use strict";var e=window,t=document,n=t.head,o={},u=!1,i,r={parseMQ:function(t){var n=e.getComputedStyle(t,null).getPropertyValue("font-family");return n.replace(/"/g,"").replace(/'/g,"")},debounce:function(e,t,n){var o;return function(){var u=this,i=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(u,i)},t),n&&!o&&e.apply(u,i)}},isObject:function(e){return"object"==typeof e},isUndefined:function(e){return"undefined"==typeof e}},a={on:function(e,t){r.isObject(o[e])||(o[e]=[]),o[e].push(t)},emit:function(e,t){if(r.isObject(o[e]))for(var n=o[e].slice(),u=0;u<n.length;u++)n[u].call(this,t)}},l={all:function(){for(var e={},n=r.parseMQ(t.querySelector("title")).split(","),o=0;o<n.length;o++){var i=n[o].trim().split(" ");e[i[0]]=i[1]}return u?e:null},now:function(e){var t=r.parseMQ(n).split(" "),o={name:t[0],width:t[1]};return u?r.isUndefined(e)?o:e(o):null},update:function(){l.now(function(e){e.name!==i&&(a.emit(e.name),a.emit("change",e),i=e.name)})}};return e.onresize=r.debounce(l.update,100),"complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState?(u="none"!==e.getComputedStyle(n,null).getPropertyValue("clear"),l.update()):t.addEventListener("DOMContentLoaded",function(){u="none"!==e.getComputedStyle(n,null).getPropertyValue("clear"),l.update()}),{fetch:{all:l.all,now:l.now},on:a.on,emit:a.emit,util:{debounce:r.debounce,isObject:r.isObject}}}();
